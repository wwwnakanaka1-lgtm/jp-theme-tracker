<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—¥æœ¬æ ªãƒ†ãƒ¼ãƒãƒˆãƒ©ãƒƒã‚«ãƒ¼ - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ¬ãƒãƒ¼ãƒˆ</title>
  <style>
    :root {
      --bg-primary: #0f172a;
      --bg-secondary: #1e293b;
      --bg-tertiary: #334155;
      --text-primary: #f1f5f9;
      --text-secondary: #94a3b8;
      --accent-green: #22c55e;
      --accent-blue: #3b82f6;
      --accent-purple: #a855f7;
      --accent-orange: #f97316;
      --border-color: #475569;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 3rem;
      padding: 3rem 0;
      background: linear-gradient(135deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
      border-radius: 16px;
      border: 1px solid var(--border-color);
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    .date {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-top: 1rem;
    }

    /* Performance Summary Cards */
    .perf-summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .perf-card {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
      text-align: center;
    }

    .perf-card .label {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .perf-card .before-after {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
    }

    .perf-card .before {
      color: #ef4444;
      font-size: 1.5rem;
      font-weight: bold;
      text-decoration: line-through;
      opacity: 0.7;
    }

    .perf-card .arrow {
      color: var(--text-secondary);
      font-size: 1.5rem;
    }

    .perf-card .after {
      color: var(--accent-green);
      font-size: 2rem;
      font-weight: bold;
    }

    .perf-card .improvement {
      margin-top: 0.5rem;
      color: var(--accent-green);
      font-size: 0.9rem;
    }

    /* Section Styles */
    section {
      margin-bottom: 3rem;
    }

    h2 {
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid var(--accent-blue);
      display: inline-block;
    }

    h3 {
      font-size: 1.3rem;
      margin: 1.5rem 0 1rem;
      color: var(--accent-purple);
    }

    p {
      margin-bottom: 1rem;
      color: var(--text-secondary);
    }

    /* Architecture Diagram */
    .architecture {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 2rem;
      border: 1px solid var(--border-color);
      margin: 1.5rem 0;
    }

    .arch-comparison {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }

    @media (max-width: 768px) {
      .arch-comparison {
        grid-template-columns: 1fr;
      }
    }

    .arch-box {
      background: var(--bg-tertiary);
      border-radius: 8px;
      padding: 1.5rem;
    }

    .arch-box h4 {
      text-align: center;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    .arch-box.before h4 {
      color: #ef4444;
    }

    .arch-box.after h4 {
      color: var(--accent-green);
    }

    .arch-flow {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
    }

    .arch-node {
      background: var(--bg-primary);
      padding: 0.5rem 1rem;
      border-radius: 6px;
      font-size: 0.9rem;
      border: 1px solid var(--border-color);
      width: 100%;
      text-align: center;
    }

    .arch-node.slow {
      border-color: #ef4444;
      color: #fca5a5;
    }

    .arch-node.fast {
      border-color: var(--accent-green);
      color: #86efac;
    }

    .arch-arrow {
      color: var(--text-secondary);
      font-size: 1.2rem;
    }

    /* Tech Stack */
    .tech-stack {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .tech-category {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
    }

    .tech-category h4 {
      color: var(--accent-orange);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .tech-list {
      list-style: none;
    }

    .tech-list li {
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--bg-tertiary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .tech-list li:last-child {
      border-bottom: none;
    }

    .tech-name {
      font-weight: 500;
    }

    .tech-version {
      color: var(--text-secondary);
      font-size: 0.85rem;
    }

    /* Optimization Details */
    .optimization-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 1.5rem;
    }

    .opt-card {
      background: var(--bg-secondary);
      border-radius: 12px;
      padding: 1.5rem;
      border: 1px solid var(--border-color);
    }

    .opt-card h4 {
      color: var(--accent-blue);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .opt-card .impact {
      display: inline-block;
      background: var(--accent-green);
      color: var(--bg-primary);
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: bold;
      margin-left: auto;
    }

    .opt-card p {
      font-size: 0.95rem;
      margin-bottom: 0.5rem;
    }

    /* Code Block */
    .code-block {
      background: var(--bg-primary);
      border-radius: 8px;
      padding: 1rem;
      margin: 1rem 0;
      overflow-x: auto;
      border: 1px solid var(--border-color);
    }

    .code-block code {
      font-family: 'Fira Code', 'Consolas', monospace;
      font-size: 0.85rem;
      color: #e2e8f0;
      white-space: pre;
    }

    .code-block .comment {
      color: #6b7280;
    }

    .code-block .keyword {
      color: #c084fc;
    }

    .code-block .string {
      color: #86efac;
    }

    .code-block .function {
      color: #60a5fa;
    }

    /* Table */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }

    th, td {
      padding: 0.75rem 1rem;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    th {
      background: var(--bg-tertiary);
      color: var(--text-primary);
      font-weight: 600;
    }

    td {
      color: var(--text-secondary);
    }

    tr:hover td {
      background: var(--bg-secondary);
    }

    /* Timeline */
    .timeline {
      position: relative;
      padding-left: 2rem;
      margin: 1.5rem 0;
    }

    .timeline::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 2px;
      background: var(--accent-blue);
    }

    .timeline-item {
      position: relative;
      padding-bottom: 1.5rem;
    }

    .timeline-item::before {
      content: '';
      position: absolute;
      left: -2rem;
      top: 0.5rem;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: var(--accent-blue);
      border: 2px solid var(--bg-primary);
    }

    .timeline-item h4 {
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .timeline-item p {
      font-size: 0.9rem;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 2rem;
      color: var(--text-secondary);
      border-top: 1px solid var(--border-color);
      margin-top: 3rem;
    }

    footer a {
      color: var(--accent-blue);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Emoji icons */
    .icon {
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸš€ æ—¥æœ¬æ ªãƒ†ãƒ¼ãƒãƒˆãƒ©ãƒƒã‚«ãƒ¼</h1>
      <p class="subtitle">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ãƒ¬ãƒãƒ¼ãƒˆ</p>
      <p class="date">2026å¹´1æœˆ30æ—¥</p>
    </header>

    <!-- Performance Summary -->
    <section>
      <h2>ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ã‚µãƒãƒªãƒ¼</h2>
      <div class="perf-summary">
        <div class="perf-card">
          <div class="label">åˆå›ãƒ­ãƒ¼ãƒ‰æ™‚é–“</div>
          <div class="before-after">
            <span class="before">5åˆ†+</span>
            <span class="arrow">â†’</span>
            <span class="after">&lt; 1ç§’</span>
          </div>
          <div class="improvement">99%ä»¥ä¸Šæ”¹å–„</div>
        </div>
        <div class="perf-card">
          <div class="label">APIå¿œç­”æ™‚é–“</div>
          <div class="before-after">
            <span class="before">30ç§’</span>
            <span class="arrow">â†’</span>
            <span class="after">&lt; 50ms</span>
          </div>
          <div class="improvement">600å€é«˜é€ŸåŒ–</div>
        </div>
        <div class="perf-card">
          <div class="label">ãƒšãƒ¼ã‚¸é·ç§»</div>
          <div class="before-after">
            <span class="before">3ç§’</span>
            <span class="arrow">â†’</span>
            <span class="after">&lt; 100ms</span>
          </div>
          <div class="improvement">30å€é«˜é€ŸåŒ–</div>
        </div>
        <div class="perf-card">
          <div class="label">ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ</div>
          <div class="before-after">
            <span class="before">ãªã—</span>
            <span class="arrow">â†’</span>
            <span class="after">PWAå¯¾å¿œ</span>
          </div>
          <div class="improvement">å®Œå…¨ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ</div>
        </div>
      </div>
    </section>

    <!-- Architecture -->
    <section>
      <h2>ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å¤‰æ›´</h2>
      <p>å¾“æ¥ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å–å¾—æ–¹å¼ã‹ã‚‰ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰äº‹å‰è¨ˆç®— + é™çš„é…ä¿¡æ–¹å¼ã¸ç§»è¡Œã—ã¾ã—ãŸã€‚</p>

      <div class="architecture">
        <div class="arch-comparison">
          <div class="arch-box before">
            <h4>âŒ Beforeï¼ˆå¾“æ¥æ–¹å¼ï¼‰</h4>
            <div class="arch-flow">
              <div class="arch-node">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node">Next.js</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node">FastAPI</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node slow">â³ yfinance APIï¼ˆ180éŠ˜æŸ„ã‚’ç›´åˆ—å–å¾—ï¼‰</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node slow">â³ é¨°è½ç‡è¨ˆç®—ãƒ»ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ³ç”Ÿæˆ</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node">ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ5åˆ†å¾Œ...ï¼‰</div>
            </div>
          </div>
          <div class="arch-box after">
            <h4>âœ… Afterï¼ˆæœ€é©åŒ–å¾Œï¼‰</h4>
            <div class="arch-flow">
              <div class="arch-node">ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node">Next.js + SWRã‚­ãƒ£ãƒƒã‚·ãƒ¥</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node">FastAPI</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node fast">âš¡ äº‹å‰è¨ˆç®—æ¸ˆã¿JSONèª­ã¿è¾¼ã¿</div>
              <div class="arch-arrow">â†“</div>
              <div class="arch-node fast">âš¡ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆ50msä»¥ä¸‹ï¼‰</div>
            </div>
          </div>
        </div>
      </div>

      <h3>ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ï¼ˆ5åˆ†ã”ã¨è‡ªå‹•å®Ÿè¡Œï¼‰</h3>
      <div class="code-block">
        <code><span class="comment"># APScheduler ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ</span>
<span class="keyword">from</span> apscheduler.schedulers.background <span class="keyword">import</span> BackgroundScheduler

scheduler = BackgroundScheduler()
scheduler.add_job(
    update_all_data,
    <span class="string">'interval'</span>,
    minutes=<span class="string">5</span>,
    id=<span class="string">'data_updater'</span>
)

<span class="comment"># ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†:</span>
<span class="comment"># 1. å…¨éŠ˜æŸ„ã‚’ä¸¦åˆ—å–å¾—ï¼ˆThreadPoolExecutorï¼‰</span>
<span class="comment"># 2. é¨°è½ç‡ãƒ»ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ³è¨ˆç®—</span>
<span class="comment"># 3. JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜</span></code>
      </div>
    </section>

    <!-- Tech Stack -->
    <section>
      <h2>ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</h2>
      <div class="tech-stack">
        <div class="tech-category">
          <h4><span class="icon">ğŸ</span> ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰</h4>
          <ul class="tech-list">
            <li><span class="tech-name">Python</span><span class="tech-version">3.11+</span></li>
            <li><span class="tech-name">FastAPI</span><span class="tech-version">é«˜é€ŸAPIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯</span></li>
            <li><span class="tech-name">APScheduler</span><span class="tech-version">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¸ãƒ§ãƒ–</span></li>
            <li><span class="tech-name">yfinance</span><span class="tech-version">æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—</span></li>
            <li><span class="tech-name">pandas</span><span class="tech-version">ãƒ‡ãƒ¼ã‚¿å‡¦ç†</span></li>
            <li><span class="tech-name">ThreadPoolExecutor</span><span class="tech-version">ä¸¦åˆ—å‡¦ç†</span></li>
          </ul>
        </div>
        <div class="tech-category">
          <h4><span class="icon">âš›ï¸</span> ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰</h4>
          <ul class="tech-list">
            <li><span class="tech-name">Next.js 14</span><span class="tech-version">App Router</span></li>
            <li><span class="tech-name">React 18</span><span class="tech-version">UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª</span></li>
            <li><span class="tech-name">SWR</span><span class="tech-version">ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥</span></li>
            <li><span class="tech-name">Tailwind CSS</span><span class="tech-version">ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°</span></li>
            <li><span class="tech-name">lightweight-charts</span><span class="tech-version">TradingViewé¢¨ãƒãƒ£ãƒ¼ãƒˆ</span></li>
            <li><span class="tech-name">Recharts</span><span class="tech-version">ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¤ãƒ³</span></li>
          </ul>
        </div>
        <div class="tech-category">
          <h4><span class="icon">ğŸ“±</span> PWA / ã‚¤ãƒ³ãƒ•ãƒ©</h4>
          <ul class="tech-list">
            <li><span class="tech-name">next-pwa</span><span class="tech-version">PWAå¯¾å¿œ</span></li>
            <li><span class="tech-name">Service Worker</span><span class="tech-version">ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã‚­ãƒ£ãƒƒã‚·ãƒ¥</span></li>
            <li><span class="tech-name">Workbox</span><span class="tech-version">ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥</span></li>
            <li><span class="tech-name">Render</span><span class="tech-version">ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°</span></li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Optimization Details -->
    <section>
      <h2>âš¡ æœ€é©åŒ–ã®è©³ç´°</h2>
      <div class="optimization-grid">
        <div class="opt-card">
          <h4>
            <span class="icon">ğŸ”„</span> ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰äº‹å‰è¨ˆç®—
            <span class="impact">åŠ¹æœ: 99%å‰Šæ¸›</span>
          </h4>
          <p>5åˆ†ã”ã¨ã«å…¨ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰è¨ˆç®—ã—ã¦JSONãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã‚€ã ã‘ã§å³åº§ã«å¿œç­”ã€‚</p>
          <div class="code-block">
            <code><span class="comment"># äº‹å‰è¨ˆç®—æ¸ˆã¿JSONã‚’è¿”ã™ï¼ˆ50msä»¥ä¸‹ï¼‰</span>
json_path = PRECOMPUTED_DIR / <span class="string">f"themes_{period}.json"</span>
<span class="keyword">with</span> open(json_path) <span class="keyword">as</span> f:
    <span class="keyword">return</span> json.load(f)</code>
          </div>
        </div>

        <div class="opt-card">
          <h4>
            <span class="icon">ğŸš€</span> ä¸¦åˆ—ãƒ‡ãƒ¼ã‚¿å–å¾—
            <span class="impact">åŠ¹æœ: 10å€é«˜é€Ÿ</span>
          </h4>
          <p>180éŠ˜æŸ„ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚’ç›´åˆ—ã‹ã‚‰ä¸¦åˆ—ã«å¤‰æ›´ã€‚ThreadPoolExecutorã§æœ€å¤§15ä¸¦åˆ—å®Ÿè¡Œã€‚</p>
          <div class="code-block">
            <code><span class="keyword">with</span> ThreadPoolExecutor(max_workers=<span class="string">15</span>) <span class="keyword">as</span> executor:
    futures = {
        executor.submit(fetch_stock_data, ticker): ticker
        <span class="keyword">for</span> ticker <span class="keyword">in</span> unique_tickers
    }</code>
          </div>
        </div>

        <div class="opt-card">
          <h4>
            <span class="icon">ğŸ’¾</span> SWRã‚­ãƒ£ãƒƒã‚·ãƒ¥
            <span class="impact">åŠ¹æœ: å³åº§è¡¨ç¤º</span>
          </h4>
          <p>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã€åŒã˜ãƒ‡ãƒ¼ã‚¿ã¸ã®å†ã‚¢ã‚¯ã‚»ã‚¹ã¯å³åº§ã«è¡¨ç¤ºã€‚ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§æœ€æ–°åŒ–ã€‚</p>
          <div class="code-block">
            <code><span class="keyword">const</span> { data } = useSWR(
  [<span class="string">'themes'</span>, period],
  () => fetchThemes(period),
  { dedupingInterval: <span class="string">300000</span> }  <span class="comment">// 5åˆ†ã‚­ãƒ£ãƒƒã‚·ãƒ¥</span>
)</code>
          </div>
        </div>

        <div class="opt-card">
          <h4>
            <span class="icon">ğŸ“´</span> PWA / ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ
            <span class="impact">åŠ¹æœ: ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å‹•ä½œ</span>
          </h4>
          <p>Service Workerã§ã‚¢ã‚»ãƒƒãƒˆã¨ãƒ‡ãƒ¼ã‚¿ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºå¯èƒ½ã€‚</p>
          <div class="code-block">
            <code><span class="comment">// next-pwaè¨­å®š</span>
runtimeCaching: [{
  urlPattern: <span class="string">/\/api\/.*/</span>,
  handler: <span class="string">'StaleWhileRevalidate'</span>,
  options: { cacheName: <span class="string">'api-cache'</span> }
}]</code>
          </div>
        </div>

        <div class="opt-card">
          <h4>
            <span class="icon">ğŸ—‘ï¸</span> é‡è¤‡å–å¾—ã®æ’é™¤
            <span class="impact">åŠ¹æœ: 30%å‰Šæ¸›</span>
          </h4>
          <p>è¤‡æ•°ãƒ†ãƒ¼ãƒã«å«ã¾ã‚Œã‚‹éŠ˜æŸ„ã‚’ä¸€åº¦ã ã‘å–å¾—ã€‚ç´„180éŠ˜æŸ„ä¸­50éŠ˜æŸ„ãŒé‡è¤‡ã—ã¦ã„ãŸãŒã€150éŠ˜æŸ„ã®ã¿å–å¾—ã«å‰Šæ¸›ã€‚</p>
        </div>

        <div class="opt-card">
          <h4>
            <span class="icon">ğŸ“ˆ</span> TradingViewé¢¨ãƒãƒ£ãƒ¼ãƒˆ
            <span class="impact">åŠ¹æœ: UXå‘ä¸Š</span>
          </h4>
          <p>lightweight-chartsãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªãƒ­ãƒ¼ã‚½ã‚¯è¶³ãƒãƒ£ãƒ¼ãƒˆã‚’å®Ÿç¾ã€‚WebGLãƒ™ãƒ¼ã‚¹ã§é«˜é€Ÿæç”»ã€‚</p>
        </div>
      </div>
    </section>

    <!-- Data Flow -->
    <section>
      <h2>ğŸ“¦ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼</h2>
      <table>
        <thead>
          <tr>
            <th>å‡¦ç†</th>
            <th>ã‚¿ã‚¤ãƒŸãƒ³ã‚°</th>
            <th>æ‰€è¦æ™‚é–“</th>
            <th>ä¿å­˜å…ˆ</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ãƒ†ãƒ¼ãƒä¸€è¦§ãƒ‡ãƒ¼ã‚¿</td>
            <td>5åˆ†ã”ã¨è‡ªå‹•æ›´æ–°</td>
            <td>ç´„30ç§’</td>
            <td>themes_{period}.json</td>
          </tr>
          <tr>
            <td>ãƒ†ãƒ¼ãƒè©³ç´°ãƒ‡ãƒ¼ã‚¿</td>
            <td>5åˆ†ã”ã¨è‡ªå‹•æ›´æ–°</td>
            <td>ç´„60ç§’</td>
            <td>theme_details/{id}_{period}.json</td>
          </tr>
          <tr>
            <td>ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿</td>
            <td>5åˆ†ã”ã¨è‡ªå‹•æ›´æ–°</td>
            <td>ç´„30ç§’</td>
            <td>heatmap_{period}.json</td>
          </tr>
          <tr>
            <td>æ—¥çµŒ225æŒ‡æ•°</td>
            <td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚</td>
            <td>ç´„1ç§’</td>
            <td>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆ5åˆ†ï¼‰</td>
          </tr>
          <tr>
            <td>å€‹åˆ¥éŠ˜æŸ„è©³ç´°</td>
            <td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚</td>
            <td>ç´„2ç§’</td>
            <td>SWRã‚­ãƒ£ãƒƒã‚·ãƒ¥</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Timeline -->
    <section>
      <h2>ğŸ“… æœ€é©åŒ–ã®çµŒç·¯</h2>
      <div class="timeline">
        <div class="timeline-item">
          <h4>Phase 1: ç›´åˆ— â†’ ä¸¦åˆ—å‡¦ç†</h4>
          <p>ThreadPoolExecutorã§éŠ˜æŸ„ãƒ‡ãƒ¼ã‚¿ã®ä¸¦åˆ—å–å¾—ã‚’å®Ÿè£…ã€‚5åˆ† â†’ 30ç§’ã«çŸ­ç¸®ã€‚</p>
        </div>
        <div class="timeline-item">
          <h4>Phase 2: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰äº‹å‰è¨ˆç®—</h4>
          <p>APSchedulerã§5åˆ†ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰è¨ˆç®—ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¾…ã¡æ™‚é–“ã‚’ã‚¼ãƒ­ã«ã€‚</p>
        </div>
        <div class="timeline-item">
          <h4>Phase 3: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥</h4>
          <p>SWRã‚’å°å…¥ã—ã€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€‚ãƒšãƒ¼ã‚¸é·ç§»ã‚’å³åº§ã«ã€‚</p>
        </div>
        <div class="timeline-item">
          <h4>Phase 4: PWAå¯¾å¿œ</h4>
          <p>next-pwaã§Service Workerå°å…¥ã€‚ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚é–²è¦§å¯èƒ½ã«ã€‚</p>
        </div>
        <div class="timeline-item">
          <h4>Phase 5: æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³</h4>
          <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»»æ„ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ãƒ‡ãƒ¼ã‚¿ã‚’æœ€æ–°åŒ–ã§ãã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã€‚</p>
        </div>
      </div>
    </section>

    <!-- API Endpoints -->
    <section>
      <h2>ğŸ”Œ APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</h2>
      <table>
        <thead>
          <tr>
            <th>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ</th>
            <th>ãƒ¡ã‚½ãƒƒãƒ‰</th>
            <th>èª¬æ˜</th>
            <th>å¿œç­”æ™‚é–“</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>/api/themes</code></td>
            <td>GET</td>
            <td>ãƒ†ãƒ¼ãƒä¸€è¦§ï¼ˆé¨°è½ç‡é †ï¼‰</td>
            <td>&lt; 50ms</td>
          </tr>
          <tr>
            <td><code>/api/themes/{id}</code></td>
            <td>GET</td>
            <td>ãƒ†ãƒ¼ãƒè©³ç´°ï¼ˆæ§‹æˆéŠ˜æŸ„ï¼‰</td>
            <td>&lt; 50ms</td>
          </tr>
          <tr>
            <td><code>/api/stocks/{code}</code></td>
            <td>GET</td>
            <td>éŠ˜æŸ„è©³ç´°ï¼ˆãƒãƒ£ãƒ¼ãƒˆãƒ‡ãƒ¼ã‚¿ï¼‰</td>
            <td>1-2ç§’</td>
          </tr>
          <tr>
            <td><code>/api/heatmap</code></td>
            <td>GET</td>
            <td>æ™‚ä¾¡ç·é¡åˆ¥ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—</td>
            <td>&lt; 50ms</td>
          </tr>
          <tr>
            <td><code>/api/nikkei225</code></td>
            <td>GET</td>
            <td>æ—¥çµŒ225æŒ‡æ•°</td>
            <td>1ç§’</td>
          </tr>
          <tr>
            <td><code>/api/refresh</code></td>
            <td>POST</td>
            <td>æ‰‹å‹•ãƒ‡ãƒ¼ã‚¿æ›´æ–°</td>
            <td>30ç§’-2åˆ†</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- Conclusion -->
    <section>
      <h2>ğŸ“ ã¾ã¨ã‚</h2>
      <div class="architecture">
        <h3>ä¸»ãªæ”¹å–„ãƒã‚¤ãƒ³ãƒˆ</h3>
        <ul style="list-style: none; padding: 0;">
          <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
            âœ… <strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼å¾…ã¡æ™‚é–“ã‚¼ãƒ­</strong>: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰äº‹å‰è¨ˆç®—ã«ã‚ˆã‚Šã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å¸¸ã«å³åº§ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
          </li>
          <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
            âœ… <strong>ã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œ</strong>: PWAã«ã‚ˆã‚Šã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒãªãã¦ã‚‚ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’é–²è¦§å¯èƒ½
          </li>
          <li style="padding: 0.5rem 0; border-bottom: 1px solid var(--border-color);">
            âœ… <strong>ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³å¯¾å¿œ</strong>: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ + ãƒ›ãƒ¼ãƒ ç”»é¢è¿½åŠ ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªé¢¨ã«
          </li>
          <li style="padding: 0.5rem 0;">
            âœ… <strong>ãƒ‡ãƒ¼ã‚¿é®®åº¦ã®ç¢ºä¿</strong>: 5åˆ†ã”ã¨ã®è‡ªå‹•æ›´æ–° + æ‰‹å‹•æ›´æ–°ãƒœã‚¿ãƒ³ã§æœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’ç¶­æŒ
          </li>
        </ul>
      </div>
    </section>

    <footer>
      <p>
        æ—¥æœ¬æ ªãƒ†ãƒ¼ãƒãƒˆãƒ©ãƒƒã‚«ãƒ¼ |
        <a href="https://github.com/wwwnakanaka1-lgtm/jp-theme-tracker" target="_blank">GitHub</a>
      </p>
      <p style="margin-top: 0.5rem; font-size: 0.85rem;">
        Generated with Claude Code
      </p>
    </footer>
  </div>
</body>
</html>
